<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æ•¸æ“šå„€è¡¨æ¿</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary: #2c3e50; --bg: #f4f7f6; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .card { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; }
        .stat-box { display: flex; justify-content: space-around; margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .stat-item h3 { font-size: 3rem; margin: 0; color: #3498db; }
        .logout-btn { padding: 8px 15px; background: #e74c3c; color: white; text-decoration: none; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="card">
        <div class="header">
            <h1>ğŸ“Š å³æ™‚æ•¸æ“šç›£æ§ä¸­å¿ƒ</h1>
            <a href="/logout" class="logout-btn">ç™»å‡ºç³»çµ±</a>
        </div>

        <div class="stat-box">
            <div class="stat-item">
                <h3>{{ stats.count }}</h3>
                <p>ç¸½å›é¥‹æ•¸</p>
            </div>
            <div class="stat-item">
                <h3>{{ stats.avg_rating }}</h3>
                <p>å¹³å‡æ»¿æ„åº¦</p>
            </div>
        </div>

        <canvas id="categoryChart"></canvas>
    </div>

    <script>
        const categoryData = {{ stats.category_counts | tojson }};
        const ctx = document.getElementById('categoryChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar', // é€™è£¡æˆ‘æ”¹æˆæŸ±ç‹€åœ–ï¼Œæ–¹ä¾¿çœ‹æ•¸é‡å·®ç•°
            data: {
                labels: Object.keys(categoryData),
                datasets: [{
                    label: 'å„é¡åˆ¥ä»¶æ•¸',
                    data: Object.values(categoryData),
                    backgroundColor: ['#3498db', '#e74c3c', '#2ecc71', '#f1c40f']
                }]
            },
            options: { responsive: true }
        });
    </script>
</body>
</html>